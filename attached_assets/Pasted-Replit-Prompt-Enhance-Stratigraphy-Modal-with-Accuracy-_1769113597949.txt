Replit Prompt: Enhance Stratigraphy Modal with Accuracy & UX

Objective: To significantly improve the accuracy, educational value, and user experience of the "What's Under My Feet?" information modal. The current implementation has accuracy issues and lacks depth.




1. Tappable Fossil Sites with Detailed Information

Problem: The "Fossil Sites" row is static and uninformative.

Solution: Make this row a tappable button that reveals detailed, layperson-friendly information about the fossils found in that formation.

Implementation:

1.
UI Change: The "Fossil Sites" row should be styled as a button. When tapped, it should open a secondary modal or an expandable section.

2.
Data Source: Use the Paleobiology Database (PBDB) API. It's a free, authoritative source for fossil occurrences.

3.
API Workflow:

•
When the user opens the info modal for a formation (e.g., Catahoula Tuff), make an API call to the PBDB API in the background.

•
Query for fossil collections within a certain radius (e.g., 50 miles) of the user's GPS coordinates that match the formation's age range (e.g., min_ma and max_ma).

•
API Endpoint Example: https://paleobiodb.org/data1.2/colls/list.json?base_name=Catahoula%20Formation&show=ref,time,strat,geo,litho



4.
Display Content: In the new modal/section, display a list of the most common fossil types found, using simple language. For example:

•
"Petrified Wood: Ancient trees that turned to stone."

•
"Freshwater Clams & Snails: Evidence of ancient rivers and lakes."

•
"Turtle Shells: Remains of turtles that lived in the floodplain environment."

•
Location Context: If the PBDB data includes a specific location name, add it: "These fossils have been found at the Onion Creek site, just 5 miles from your current location."






2. Implement a Fact-Checking AI Chain for Accuracy

Problem: The "Fascinating Fact" is generating geologically and chronologically inaccurate information (e.g., "alligators in the Arctic" for a Miocene formation ).

Solution: Implement a two-step AI chain to generate and then validate facts before they are shown to the user.

Implementation:

1.
AI #1 (The Creative Generator):

•
Prompt: "You are a geology expert writing for a layperson. Given the following data for a geological formation - Age: {age_range} Ma, Environment: {environment_description}, Lithology: {lithology_types} - generate one fascinating, easy-to-understand fact about what the world was like during that time and in that environment. Be creative but stick to the data provided."



2.
AI #2 (The Strict Fact-Checker):

•
Prompt: "You are a geological fact-checker. Your only job is to validate the following statement. Based on the provided context - Age: {age_range} Ma, Environment: {environment_description} - is the following statement plausible? [STATEMENT FROM AI #1]. Respond with only one word: 'PLAUSIBLE' or 'IMPLAUSIBLE'. If 'IMPLAUSIBLE', provide a brief, one-sentence correction."



3.
Logic:

•
If AI #2 responds with 'PLAUSIBLE', display the fact.

•
If AI #2 responds with 'IMPLAUSIBLE', discard the original fact. Either use AI #2's correction as the new fact or re-run the chain with added context from the correction.






3. "Read More" Expandable Section

Problem: The modal provides limited educational content.

Solution: Add a "Read More" button that expands to show more in-depth information.

Implementation:

1.
UI: Below the "Fascinating Fact", add a button styled as "Read More..."

2.
State: Use a useState hook (isExpanded) to control the visibility of the detailed content.

3.
Content: When expanded, show a longer paragraph (2-4 sentences) that explains how the formation was created in more detail. This content can be pre-written for major formations or generated by a separate, more detailed AI prompt.

•
Example for Catahoula Tuff: "The Catahoula Tuff tells a story of explosive volcanic activity far to the west, likely in present-day West Texas or Mexico. Massive clouds of volcanic ash were carried by wind and water, settling in this area's rivers and floodplains. Over millions of years, the weight of overlying sediments compressed this ash, cementing it into the tuff rock layer you see today. It often contains petrified wood from forests that were buried by the ash falls."






Final Quick Prompt for Replit


"Enhance the stratigraphy info modal: (1) Make the 'Fossil Sites' row a tappable button that queries the Paleobiology Database API to show a list of actual fossils found in that formation nearby, written in simple language. (2) Implement a two-step AI chain for the 'Fascinating Fact': a generator AI creates the fact, and a second fact-checker AI validates it for geological accuracy before display. Fix any inaccurate facts like 'alligators in the Arctic' for the Miocene. (3) Add a 'Read More...' button that expands to show a more detailed paragraph about how the formation was created."

